@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=IBM+Plex+Sans:wght@400;500;600&family=IBM+Plex+Mono:wght@400;500&display=swap');
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--blue-deep:#050A18;--blue-mid:#0A1628;--blue-accent:#4FC3F7;--gold:#FFD54F;--text:#E0E8F0;--opus-pink:#F48FB1}
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:rgba(79,195,247,0.15);border-radius:4px}

/* === SPLASH === */
.splash{width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:radial-gradient(ellipse at 50% 30%,#0D47A1 0%,#050A18 60%,#000 100%);font-family:'Playfair Display',serif;overflow:hidden;position:relative}
.particle{position:absolute;border-radius:50%;animation:float-particle ease-in-out infinite}
.splash-avatar{animation:splash-emerge 1.5s ease-out forwards;opacity:0}
.splash-title{font-size:2.8rem;font-weight:700;background:linear-gradient(135deg,#4FC3F7 30%,#FFD54F 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:20px 0 6px;animation:splash-emerge 1.5s ease-out 0.3s forwards;opacity:0}
.splash-sub{color:#4FC3F7;font-size:0.95rem;font-family:'IBM Plex Mono',monospace;letter-spacing:0.2em;animation:splash-emerge 1.5s ease-out 0.6s forwards;opacity:0}
.splash-phi{color:rgba(255,213,79,0.6);font-size:0.78rem;font-style:italic;margin-top:10px;animation:splash-emerge 1.5s ease-out 0.9s forwards;opacity:0}
.splash-engines{margin-top:28px;display:flex;gap:8px;animation:splash-emerge 1s ease-out 1.2s forwards;opacity:0}
.engine-badge{padding:4px 14px;border-radius:12px;font-size:0.7rem;border:1px solid rgba(79,195,247,0.3);color:#4FC3F7;font-family:'IBM Plex Mono',monospace}

/* === APP SHELL === */
.app{width:100%;height:100vh;display:flex;flex-direction:column;background:linear-gradient(180deg,#050A18 0%,#0A1628 40%,#0D1B2A 100%);font-family:'IBM Plex Sans',sans-serif;color:#E0E8F0;overflow:hidden;position:relative}
.ambient-glow{position:absolute;top:-15%;left:25%;width:50%;height:35%;background:radial-gradient(ellipse,rgba(13,71,161,0.12) 0%,transparent 70%);pointer-events:none}

/* === HEADER === */
.header{padding:10px 16px;display:flex;align-items:center;gap:12px;border-bottom:1px solid rgba(79,195,247,0.08);background:rgba(5,10,24,0.85);backdrop-filter:blur(14px);z-index:10;flex-shrink:0}
.header-info{flex:1}
.header-title{font-size:1.05rem;font-weight:700;font-family:'Playfair Display',serif;background:linear-gradient(135deg,#4FC3F7,#FFD54F);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.header-status{font-size:0.62rem;font-family:'IBM Plex Mono',monospace}
.opus-toggle{padding:5px 12px;border-radius:14px;font-size:0.65rem;font-family:'IBM Plex Mono',monospace;font-weight:600;border:1px solid rgba(79,195,247,0.2);background:rgba(79,195,247,0.05);color:rgba(79,195,247,0.5);cursor:pointer;transition:all 0.3s}
.opus-toggle.active{border-color:rgba(244,143,177,0.5);background:rgba(244,143,177,0.12);color:#F48FB1}
.header-ver{font-size:0.58rem;color:rgba(255,213,79,0.4);font-family:'IBM Plex Mono',monospace;text-align:right;line-height:1.4}

/* === MESSAGES === */
.messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:14px}
.welcome{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;gap:16px;padding:32px 20px;text-align:center}
.welcome-ar{font-family:'Playfair Display',serif;font-size:1.4rem;color:#4FC3F7;margin-bottom:6px}
.welcome-en{font-size:0.82rem;color:rgba(224,232,240,0.45);line-height:1.6}
.welcome-tiers{display:flex;align-items:center;gap:6px;margin-top:4px;padding:6px 14px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06)}
.tier-label{font-size:0.65rem;font-family:'IBM Plex Mono',monospace}.sonnet{color:rgba(206,147,216,0.6)}.opus-label{color:rgba(244,143,177,0.6)}
.tier-sep{font-size:0.55rem;color:rgba(255,255,255,0.15)}
.quick-actions{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:12px}
.quick-btn{padding:8px 16px;border-radius:20px;border:1px solid rgba(79,195,247,0.15);background:rgba(79,195,247,0.04);color:rgba(79,195,247,0.75);font-size:0.78rem;cursor:pointer;transition:all 0.25s;font-family:'IBM Plex Sans',sans-serif}
.quick-btn:hover{background:rgba(79,195,247,0.12);color:#4FC3F7}

/* === MESSAGE BUBBLES === */
.msg-row{display:flex;gap:10px;align-items:flex-start;animation:msg-appear 0.3s ease-out forwards}
.msg-row.user{flex-direction:row-reverse}
.msg-col{max-width:82%;min-width:60px}
.bubble{padding:11px 15px;font-size:0.88rem;line-height:1.65;white-space:pre-wrap;word-break:break-word}
.bubble.user{border-radius:18px 18px 4px 18px;background:linear-gradient(135deg,rgba(79,195,247,0.15),rgba(21,101,192,0.15));border:1px solid rgba(79,195,247,0.15)}
.bubble.assistant{border-radius:18px 18px 18px 4px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06)}
.user-avatar{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,#1565C0,#0D47A1);display:flex;align-items:center;justify-content:center;font-size:0.8rem;font-weight:700;color:#FFD54F;flex-shrink:0;border:1px solid rgba(79,195,247,0.2)}
.msg-meta{display:flex;gap:6px;margin-top:4px;align-items:center;flex-wrap:wrap}
.engine-tag{font-size:0.58rem;padding:2px 8px;border-radius:8px;font-family:'IBM Plex Mono',monospace;border:1px solid}
.cat-tag{font-size:0.52rem;color:rgba(224,232,240,0.25);font-family:'IBM Plex Mono',monospace}
.voice-btn{background:none;border:none;cursor:pointer;font-size:0.72rem;padding:2px 4px}

/* === LOADING === */
.loading-bubble{padding:10px 14px;border-radius:18px 18px 18px 4px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);min-width:220px}
.loading-text{font-size:0.68rem;color:rgba(79,195,247,0.45);font-family:'IBM Plex Mono',monospace;margin-top:4px;text-align:center}

/* === INPUT BAR === */
.input-bar{padding:10px 14px;padding-bottom:max(10px,env(safe-area-inset-bottom));border-top:1px solid rgba(79,195,247,0.08);background:rgba(5,10,24,0.92);backdrop-filter:blur(14px);display:flex;gap:8px;align-items:flex-end;flex-shrink:0}
.input-field{flex:1;padding:11px 16px;border-radius:22px;border:1px solid rgba(79,195,247,0.12);background:rgba(255,255,255,0.04);color:#E0E8F0;font-size:0.88rem;font-family:'IBM Plex Sans',sans-serif;resize:none;outline:none;line-height:1.4;max-height:120px;transition:border-color 0.3s}
.input-field:focus{border-color:rgba(79,195,247,0.35)}
.input-field.opus-input{border-color:rgba(244,143,177,0.2)}.input-field.opus-input:focus{border-color:rgba(244,143,177,0.4)}
.input-field::placeholder{color:rgba(79,195,247,0.25)}
.send-btn{width:46px;height:46px;border-radius:50%;border:none;background:rgba(255,255,255,0.04);color:rgba(224,232,240,0.15);cursor:not-allowed;display:flex;align-items:center;justify-content:center;transition:all 0.3s;flex-shrink:0}
.send-btn.active{background:linear-gradient(135deg,#1565C0,#0D47A1);color:#FFD54F;cursor:pointer}
.send-btn.opus-send.active{background:linear-gradient(135deg,#AD1457,#880E4F)}

/* === LIVE TRANSCRIPTION OVERLAY === */
.live-transcription{padding:8px 14px;background:rgba(239,83,80,0.06);border:1px solid rgba(239,83,80,0.15);border-radius:14px;margin-bottom:4px;display:flex;align-items:center;gap:8px}
.live-transcription .dot{width:8px;height:8px;border-radius:50%;background:#EF5350;animation:mic-pulse 1.2s infinite;flex-shrink:0}
.live-transcription .text{font-size:0.82rem;color:rgba(224,232,240,0.7);font-style:italic;flex:1;min-height:1.4em}
.live-transcription .interim{color:rgba(79,195,247,0.5)}

/* === ANIMATIONS === */
@keyframes splash-emerge{from{opacity:0;transform:scale(0.8) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}
@keyframes avatar-ripple{0%{opacity:0.6;transform:scale(1)}100%{opacity:0;transform:scale(1.6)}}
@keyframes msg-appear{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
@keyframes float-particle{0%,100%{transform:translateY(0) translateX(0);opacity:0.3}50%{transform:translateY(-20px) translateX(10px);opacity:0.7}}
@keyframes mic-pulse{0%,100%{box-shadow:0 0 0 0 rgba(239,83,80,0.3)}50%{box-shadow:0 0 0 8px rgba(239,83,80,0)}}
